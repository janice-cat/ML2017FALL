import sys
import csv
import pandas as pd
import numpy as np

##Read in
XTest = [[0 for x in range(16281)] for y in range(106)]
np.set_printoptions(threshold=np.inf)

trait_mean = [38.581646755320783 , 189778.36651208502 , 0 , 1077.6488437087312 , 87.303829734958995 , 40.437455852092995]
trait_var = [13.640223092304081 , 105548.3568808909 , 0 , 7385.1786769465862 , 402.95403082754581 , 12.347239075706955]
with open(sys.argv[1]) as TrainingData:
        XTest_raw = csv.reader(TrainingData)
        C = -1
        for row in XTest_raw:
                if (C != -1):
                        for R in range(106):
                                if (R == 0) or (R == 1) or (R == 3) or (R == 4) or (R == 5):
                                        XTest[R][C] = (float(row[R]) - trait_mean[R])/trait_var[R]
                                else:
                                        XTest[R][C] = float(row[R])

                C = C + 1

XTest = np.matrix(XTest)
#print("XTest.shape = ",XTest.shape)

X = XTest
b = -2.2317577303140599
w = np.matrix([[  3.35118818e-01],
        [  7.42154462e-02],
        [  8.04786816e-01],
        [  2.31127298e+00],
        [  2.58544896e-01],
        [  3.68486002e-01],
        [  4.03199106e-01],
        [ -2.81465691e-01],
        [ -1.02857891e-02],
        [ -1.07565638e-01],
        [  7.26194431e-02],
        [ -5.87076323e-01],
        [ -3.86096156e-01],
        [ -1.04057016e-01],
        [ -4.15807617e-01],
        [ -1.04022745e+00],
        [ -9.76057805e-01],
        [ -4.68582427e-01],
        [ -5.45830902e-01],
        [ -7.89590474e-01],
        [ -1.38930967e+00],
        [ -1.01061542e+00],
        [  1.93174202e-01],
        [  2.12421327e-01],
        [  7.91298192e-01],
        [  1.56202953e+00],
        [ -3.00155171e-01],
        [  1.11127172e+00],
        [ -2.74387884e-01],
        [  1.47494825e+00],
        [  3.30782830e-02],
        [ -4.66978213e-01],
        [  2.37809500e-01],
        [  1.01314494e+00],
        [ -3.38693551e-01],
        [ -9.73981519e-01],
        [ -5.32879138e-01],
        [ -3.54957697e-01],
        [ -3.50825750e-02],
        [ -3.24723887e-02],
        [  1.15287435e-02],
        [  7.54477483e-01],
        [ -1.06233915e+00],
        [ -7.48279900e-01],
        [ -3.67383858e-01],
        [ -8.98847259e-01],
        [ -3.14214117e-01],
        [  5.28515781e-01],
        [  5.11043585e-01],
        [  2.40016786e-01],
        [  6.16060013e-01],
        [ -1.93465418e-01],
        [ -4.26093406e-01],
        [ -4.44377567e-02],
        [ -1.99813106e-01],
        [ -7.28877880e-01],
        [ -1.28966069e+00],
        [ -3.86580854e-01],
        [  1.23283461e+00],
        [ -4.81943604e-01],
        [ -1.23601004e-01],
        [ -3.08654150e-01],
        [ -4.01271144e-01],
        [ -1.01065778e-01],
        [  1.12714270e-01],
        [  1.61373362e-01],
        [ -1.87042104e-01],
        [ -2.63610634e-01],
        [  9.83446535e-02],
        [ -2.26647252e-01],
        [ -4.03406456e-02],
        [ -1.77222548e-01],
        [  1.29739417e-01],
        [  1.10937812e-01],
        [  2.14483389e-01],
        [ -1.70788290e-01],
        [ -6.71711778e-02],
        [ -2.46357116e-02],
        [ -2.10817812e-03],
        [ -1.55350076e-02],
        [ -1.29741416e-03],
        [ -1.15730634e-02],
        [ -9.70519530e-02],
        [  1.66642283e-02],
        [  4.94375012e-02],
        [  2.19352204e-01],
        [ -6.41277197e-03],
        [  1.30029303e-01],
        [ -4.06349254e-02],
        [ -7.41654709e-01],
        [ -9.92220242e-02],
        [ -6.61742781e-02],
        [ -6.68494369e-02],
        [  2.97526919e-01],
        [ -3.11740037e-02],
        [ -6.30878120e-02],
        [ -1.73172214e-01],
        [  2.58243272e-03],
        [ -2.68135574e-01],
        [  5.29535874e-02],
        [ -3.47168440e-02],
        [ -3.37044071e-02],
        [  2.05347913e-01],
        [ -2.01081232e-01],
        [  5.89305372e-02],
        [ -1.65908997e-01]])

print("id,label")
z = (np.dot(X.T,w)+b*np.ones(shape=(16281,1)))
y_hat = np.ones(shape=(16281,1))/(np.ones(shape=(16281,1))+np.exp(-z))

for k in range(16281):
        if y_hat[k] >= 0.5:
              print("%s,%d"%(k+1,1))
        else:  
              print("%s,%d"%(k+1,0))
